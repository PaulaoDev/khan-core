<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>App\Khan\Component\Router\RegexEngine\RegexEngine | Khan framework Docs</title>

            <link rel="stylesheet" type="text/css" href="../../../../../css/normalize.css">
        <link rel="stylesheet" type="text/css" href="../../../../../css/min.css">
        <link rel="stylesheet" type="text/css" href="../../../../../css/prism.css">
        <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700,400italic' rel='stylesheet' type='text/css'>
        <script src="../../../../../js/prism.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    
    
    </head>

    <body id="class" data-name="class:App_Khan_Component_Router_RegexEngine_RegexEngine" data-root-path="../../../../../">
            <nav>
    <div class="container">
      <div class="title">
        <a href="../../../../../index.html">Khan framework Docs</a>
      </div>
      <ul>
        <li><a href="../../../../../classes.html">Classes</a></li>
                  <li><a href="../../../../../namespaces.html">Namespaces</a></li>
                <li><a href="../../../../../interfaces.html">Interfaces</a></li>
        <li><a href="../../../../../traits.html">Traits</a></li>
        <li><a href="../../../../../doc-index.html">Index</a></li>
        <li><a href="../../../../../search.html">Search</a></li>
      </ul>
                  <ol class="breadcrumb">
                                  <li><a href="../../../../../App.html">App</a></li>
                    <li><a href="../../../../../App/Khan.html">Khan</a></li>
                    <li><a href="../../../../../App/Khan/Component.html">Component</a></li>
                    <li><a href="../../../../../App/Khan/Component/Router.html">Router</a></li>
                    <li><a href="../../../../../App/Khan/Component/Router/RegexEngine.html">RegexEngine</a></li>
  
            <li>RegexEngine</li>
        </ol>
        </div>
  </nav>

  <div class="container">
    <div class="row">
        <div id="control-panel">
      </div>

        <div id="api-tree"></div>

    </div>
    <div class="row">
          <h1>RegexEngine</h1>

    <p>    trait
    <strong>RegexEngine</strong>
</p>

    
    
    
    
            <h2>Methods</h2>

            <table class="table">
            <tr>
            <td>
                <code class="language-php">
                                                            public                                    </code>
            </td>
            <td class="text-right"><code class="language-php"></code></td>
            <td>
                <code class="language-php"><a href="#method_validate">validate</a>($regex)</code>
            </td>
            <td>
                                    No description
                            </td>
            <td></td>
        </tr>
            <tr>
            <td>
                <code class="language-php">
                                                            public                                    </code>
            </td>
            <td class="text-right"><code class="language-php"></code></td>
            <td>
                <code class="language-php"><a href="#method_work">work</a>($regex, $rota)</code>
            </td>
            <td>
                                    No description
                            </td>
            <td></td>
        </tr>
            <tr>
            <td>
                <code class="language-php">
                                                            public                                    </code>
            </td>
            <td class="text-right"><code class="language-php"></code></td>
            <td>
                <code class="language-php"><a href="#method_build">build</a>($routes, $url)</code>
            </td>
            <td>
                                    No description
                            </td>
            <td></td>
        </tr>
        </table>


        <h2>Details</h2>

            <div id="method-details">
                        <div>
        <div class="float-right">
                            at line <a href="#source.10">10</a>
                    </div>
        <div>
            <h3 id="method_validate"><code class="language-php">validate()</code></h3>
            <code class="language-php">public validate($regex)</code>
        </div>
    </div>

    <div class="details">
                            <h4>Parameters</h4>

                <table class="table">
                    <tr>
                <td></td>
                <td><code class="language-php">$regex</code></td>
                <td></td>
            </tr>
            </table>

        
        
        
            </div>

                        <div>
        <div class="float-right">
                            at line <a href="#source.14">14</a>
                    </div>
        <div>
            <h3 id="method_work"><code class="language-php">work()</code></h3>
            <code class="language-php">public work($regex, $rota)</code>
        </div>
    </div>

    <div class="details">
                            <h4>Parameters</h4>

                <table class="table">
                    <tr>
                <td></td>
                <td><code class="language-php">$regex</code></td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td><code class="language-php">$rota</code></td>
                <td></td>
            </tr>
            </table>

        
        
        
            </div>

                        <div>
        <div class="float-right">
                            at line <a href="#source.37">37</a>
                    </div>
        <div>
            <h3 id="method_build"><code class="language-php">build()</code></h3>
            <code class="language-php">public build($routes, $url)</code>
        </div>
    </div>

    <div class="details">
                            <h4>Parameters</h4>

                <table class="table">
                    <tr>
                <td></td>
                <td><code class="language-php">$routes</code></td>
                <td></td>
            </tr>
                    <tr>
                <td></td>
                <td><code class="language-php">$url</code></td>
                <td></td>
            </tr>
            </table>

        
        
        
            </div>

            </div>

    
    <h2>Source code</h2>
    <pre class="language-php line-numbers" id="source"><code>&lt;?php 

      namespace App\Khan\Component\Router\RegexEngine;

      trait RegexEngine {
        
            private static $instance = null,
                           $prefix = &quot;/[{}]/&quot;;

            public function validate($regex){ 
              return preg_match(self::$prefix, $regex); 
            }
        
            public function work($regex, $rota){
                if($this-&gt;validate($regex)){
                    $m = []; $param = [];
                    $rex = explode(&#039;/&#039;, $regex);
                    $repleced = $regex;
                    foreach($rex as $key =&gt; $r){ 
                        if($this-&gt;validate($r)){ 
                          $m[] = $r;
                          $param[] = str_replace([&#039;{&#039;,&#039;}&#039;], &#039;&#039;, $r);
                        }
                    }
                    $repleced = str_replace($m, &#039;(.*)&#039;, $repleced);
                    $repleced = &quot;/^&quot;.str_replace(&quot;/&quot;, &quot;\/&quot;, $repleced).&quot;$/&quot;;
                    $getters = [];
                    $rt = preg_match($repleced, $rota, $getters);
                    if($rt){ 
                      unset($getters[0]); 
                      return array_combine($param, $getters); 
                    }
                    return false;
                }
            }
        
            public function build($routes, $url){
              //$routes = self::$routess[&quot;params&quot;];
              $routerActive = [];
              foreach($routes as $rota =&gt; $fn){ 
                $lengRoute = explode(&quot;/&quot;, substr($rota, 1));
                  $lengUri = explode(&quot;/&quot;, substr($url, 1));
                if($this-&gt;validate($rota)):
                  if(count($lengRoute) === count($lengUri)){
                    $routerActive[] = $rota; 
                  }
                endif; 
              }
              if(count($routerActive) &gt; 0){
                foreach ($routerActive as $key =&gt; $rota) {
                  list($lengRoute, $lengUri) = [
                    explode(&quot;/&quot;, substr($rota, 1)),  
                    explode(&quot;/&quot;, substr($url, 1))
                  ];
                    $validate = $this-&gt;work($rota, $url);
                    if(count($lengUri) == count($lengRoute) &amp;&amp; $validate){
                    return [&quot;rota&quot; =&gt; $rota,&quot;params&quot; =&gt; $validate];
                    break;
                    } 
                }
              }
              return false;
            }
        
    }
</code></pre>
    </div>
    <div class="row">
        <div id="footer">
    Generated by <a href="http://sami.sensiolabs.org/">Sami, the API Documentation Generator</a> using <a href="https://github.com/nochso/sami-theme">nochso/sami-theme</a>.
  </div>

    </div>
  </div>
    </body>

</html>
